Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools react-dom.development.js:38560:1
Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview clerk.browser.js:16:1282
Clerk: The prop "afterSignInUrl" is deprecated and should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props clerk.browser.js:16:1282
üöÄ Setting up robust storage system... storage-integration-example.ts:263:11
üîÑ Running storage migration on startup... storage-integration-example.ts:131:13
[StorageMigration] Starting migration of all flight data... storage-migration.ts:31:13
üîç Checking for cached flight data with robust storage... page.tsx:290:17
[FlightStorage] Retrieving flight search data... flight-storage-manager.ts:101:13
üöÄ Setting up robust storage system... storage-integration-example.ts:263:11
üîÑ Running storage migration on startup... storage-integration-example.ts:131:13
[StorageMigration] Starting migration of all flight data... storage-migration.ts:31:13
üîç Checking for cached flight data with robust storage... page.tsx:290:17
[FlightStorage] Retrieving flight search data... flight-storage-manager.ts:101:13
[StorageMigration] ‚úÖ Migration completed successfully storage-migration.ts:50:15
[StorageMigration] Summary: 
Object { migratedKeys: 0, errors: 0, cleanedKeys: 0 }
storage-migration.ts:51:15
[FlightStorage] ‚ùå Flight search data not found or invalid: Data not found in any storage location flight-storage-manager.ts:114:15
[StorageMigration] ‚úÖ Migration completed successfully storage-migration.ts:50:15
[StorageMigration] Summary: 
Object { migratedKeys: 0, errors: 0, cleanedKeys: 0 }
storage-migration.ts:51:15
‚ùå No valid cached flight data found: Data not found in any storage location page.tsx:382:19
‚úÖ Storage migration completed successfully storage-integration-example.ts:137:17
üìä Migration summary:
          - Migrated keys: 0
          - Cleaned keys: 0
          - Errors: 0 storage-integration-example.ts:138:17
üîç Cache check result: false page.tsx:393:15
üîÑ No cached data found, fetching from API page.tsx:397:15
‚úÖ Storage migration completed successfully storage-integration-example.ts:137:17
üìä Migration summary:
          - Migrated keys: 0
          - Cleaned keys: 0
          - Errors: 0 storage-integration-example.ts:138:17
[FlightStorage] Retrieving flight search data... flight-storage-manager.ts:101:13
[FlightStorage] Retrieving flight price data... flight-storage-manager.ts:152:13
[FlightStorage] Retrieving booking data... flight-storage-manager.ts:203:13
[FlightStorage] Retrieving selected flight data... flight-storage-manager.ts:254:13
[FlightStorage] ‚ùå Flight search data not found or invalid: Data not found in any storage location flight-storage-manager.ts:114:15
[FlightStorage] Retrieving flight search data... flight-storage-manager.ts:101:13
[FlightStorage] Retrieving flight price data... flight-storage-manager.ts:152:13
[FlightStorage] Retrieving booking data... flight-storage-manager.ts:203:13
[FlightStorage] Retrieving selected flight data... flight-storage-manager.ts:254:13
‚ùå No valid cached flight data found: Data not found in any storage location page.tsx:382:19
üîç Cache check result: false page.tsx:393:15
üîÑ No cached data found, fetching from API page.tsx:397:15
[FlightStorage] ‚ùå Flight search data not found or invalid: Data not found in any storage location flight-storage-manager.ts:114:15
[FlightStorage] ‚ùå Flight price data not found or invalid: Data not found in any storage location flight-storage-manager.ts:165:15
[FlightStorage] ‚ùå Booking data not found or invalid: Data not found in any storage location flight-storage-manager.ts:216:15
[FlightStorage] ‚ùå Selected flight data not found or invalid: Data not found in any storage location flight-storage-manager.ts:267:15
[FlightStorage] Health check results: 
Object { flightSearch: false, flightPrice: false, bookingData: false, selectedFlight: false, overallHealth: false }
flight-storage-manager.ts:377:13
[FlightStorage] ‚ùå Flight search data not found or invalid: Data not found in any storage location flight-storage-manager.ts:114:15
[FlightStorage] ‚ùå Flight price data not found or invalid: Data not found in any storage location flight-storage-manager.ts:165:15
[FlightStorage] ‚ùå Booking data not found or invalid: Data not found in any storage location flight-storage-manager.ts:216:15
üìä Storage Health Check: 
Object { health: {‚Ä¶}, stats: {‚Ä¶} }
storage-integration-example.ts:162:15
[FlightStorage] ‚ùå Selected flight data not found or invalid: Data not found in any storage location flight-storage-manager.ts:267:15
‚ö†Ô∏è Storage system needs attention storage-integration-example.ts:274:13
[FlightStorage] Health check results: 
Object { flightSearch: false, flightPrice: false, bookingData: false, selectedFlight: false, overallHealth: false }
flight-storage-manager.ts:377:13
üìä Storage Health Check: 
Object { health: {‚Ä¶}, stats: {‚Ä¶} }
storage-integration-example.ts:162:15
‚ö†Ô∏è Storage system needs attention storage-integration-example.ts:274:13
[PASSENGER DEBUG] Frontend API Client - Sending air shopping request: api-client.ts:122:17
[PASSENGER DEBUG] Passenger counts: 
Object { numAdults: 2, numChildren: 1, numInfants: 1, total: 4 }
api-client.ts:123:17
[PASSENGER DEBUG] Full request payload: {
  "tripType": "ROUND_TRIP",
  "odSegments": [
    {
      "origin": "NBO",
      "destination": "CDG",
      "departureDate": "2025-07-10",
      "returnDate": "2025-07-22"
    }
  ],
  "numAdults": 2,
  "numChildren": 1,
  "numInfants": 1,
  "outboundCabinClass": "PREMIUM_ECONOMY",
  "returnCabinClass": "PREMIUM_ECONOMY",
  "enableRoundtrip": true,
  "directOnly": false
} api-client.ts:129:17
{"timestamp":"2025-07-06T14:48:21.671Z","level":"info","message":"API Request","data":{"url":"/api/verteil/air-shopping","method":"post","data":{"tripType":"ROUND_TRIP","odSegments":[{"origin":"NBO","destination":"CDG","departureDate":"2025-07-10","returnDate":"2025-07-22"}],"numAdults":2,"numChildren":1,"numInfants":1,"outboundCabinClass":"PREMIUM_ECONOMY","returnCabinClass":"PREMIUM_ECONOMY","enableRoundtrip":true,"directOnly":false}}} logger.ts:42:15
{"timestamp":"2025-07-06T14:48:52.740Z","level":"info","message":"API Response","data":{"status":200,"url":"/api/verteil/air-shopping"}} logger.ts:42:15
üßπ Clearing all previous flight data before storing new search... page.tsx:419:17
üîç About to store flight search data in Redis: 
Object { hasAirShoppingResponse: true, searchParamsKeys: (9) [‚Ä¶], timestamp: 1751813332741, expiresAt: 1751815132741, apiResponseStructure: {‚Ä¶} }
page.tsx:451:19
üîç API Response structure debug: 
Object { hasApiResponseData: true, apiResponseDataKeys: (2) [‚Ä¶], hasNestedData: false, nestedDataKeys: [], hasRawResponse: false, hasDirectRawResponse: false }
page.tsx:465:19
üîç Optimized data size comparison: 
Object { originalSize: 4127586, optimizedSize: 1167, reduction: "100.0%" }
page.tsx:488:19
{"timestamp":"2025-07-06T14:48:52.760Z","level":"info","message":"[RedisStorage] Storing flight search data..."} logger.ts:42:15
{"timestamp":"2025-07-06T14:48:52.761Z","level":"info","message":"API Request","data":{"url":"/api/flight-storage/search","method":"post","data":{"search_data":{"airShoppingResponse":{"data":{"metadata":{"airline_count":4,"airline_filtering_enabled":false,"enhanced_cards_count":1500,"filtered_airlines":[],"is_multi_airline":true,"performance":{"card_generation_time":0.030479,"search_time":28.990927,"total_time":29.692708,"transform_time":0.668669},"raw_response_cache_key":"air_shopping_raw_7d0401d7-b770-412a-afe8-508941554b88_1751813331","request_id":"7d0401d7-b770-412a-afe8-508941554b88","service_version":"2.4-optimized","shopping_response_ids":{"AF":"s4hQiBpTMDjWP-ZUTPitEQOAKZ8xoWaYAkiUbNLjhLk-AF","EK":"s4hQiBpTMDjWP-ZUTPitEQOAKZ8xoWaYAkiUbNLjhLk-EK","KL":"s4hQiBpTMDjWP-ZUTPitEQOAKZ8xoWaYAkiUbNLjhLk-KL","LHG":"s4hQiBpTMDjWP-ZUTPitEQOAKZ8xoWaYAkiUbNLjhLk-LHG"},"supported_airlines":["AF","EK","KL","LHG"],"total_offers":1500,"transformation_timestamp":"2025-07-06T17:48:51.428669"}}},"searchParams":{"origin":"NBO","destination":"CDG","departDate":"2025-07-10","returnDate":"2025-07-22","tripType":"round-trip","passengers":{"adults":2,"children":1,"infants":1},"cabinClass":"ECONOMY","outboundCabinClass":"PREMIUM_ECONOMY","returnCabinClass":"PREMIUM_ECONOMY"},"timestamp":1751813332741,"expiresAt":1751815132741},"ttl":1800}}} logger.ts:42:15
{"timestamp":"2025-07-06T14:48:52.808Z","level":"info","message":"API Response","data":{"status":200,"url":"/api/flight-storage/search"}} logger.ts:42:15
{"timestamp":"2025-07-06T14:48:52.808Z","level":"info","message":"[RedisStorage] ‚úÖ Flight search data stored successfully","data":{"session_id":"03070dcc-0c0d-4332-afa0-d7657546d986","expires_at":"2025-07-06T15:18:52.782429"}} logger.ts:42:15
